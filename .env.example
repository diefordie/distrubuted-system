# ================================
# DISTRIBUTED SYSTEM CONFIGURATION
# ================================
# Copy this file to .env and modify values as needed

# ================================
# NODE CONFIGURATION
# ================================
# Unique identifier for this node (must be unique in cluster)
NODE_ID=node1

# Port this node listens on
NODE_PORT=8001

# Host to bind to (0.0.0.0 for all interfaces, localhost for local only)
NODE_HOST=0.0.0.0

# ================================
# CLUSTER CONFIGURATION
# ================================
# Comma-separated list of all node addresses in the cluster
# Format: http://hostname:port
# Minimum 3 nodes recommended for fault tolerance
CLUSTER_ADDRS=http://localhost:8001,http://localhost:8002,http://localhost:8003

# ================================
# REDIS CONFIGURATION
# ================================
# Redis host
REDIS_HOST=localhost

# Redis port
REDIS_PORT=6379

# Redis database number
REDIS_DB=0

# Redis password (leave empty if no auth)
REDIS_PASSWORD=

# ================================
# RAFT CONFIGURATION
# ================================
# Minimum election timeout (seconds)
RAFT_ELECTION_TIMEOUT_MIN=3.0

# Maximum election timeout (seconds)
RAFT_ELECTION_TIMEOUT_MAX=5.0

# Heartbeat interval (seconds) - should be < election timeout
RAFT_HEARTBEAT_INTERVAL=1.0

# ================================
# FAILURE DETECTOR CONFIGURATION
# ================================
# Interval between ping checks (seconds)
PING_INTERVAL=2.0

# Ping timeout (seconds)
PING_TIMEOUT=2.0

# Number of RTT samples to keep for adaptive timeout
RTT_WINDOW=10

# K value for adaptive timeout formula (μ + Kσ)
ADAPTIVE_K=3.0

# ================================
# CACHE CONFIGURATION
# ================================
# Maximum cache size (number of entries)
CACHE_MAX_SIZE=1000

# Default cache TTL (seconds)
CACHE_TTL=300

# ================================
# QUEUE CONFIGURATION
# ================================
# Maximum queue size per queue
QUEUE_MAX_SIZE=10000

# Number of virtual nodes for consistent hashing
QUEUE_VIRTUAL_NODES=100

# ================================
# LOCK CONFIGURATION
# ================================
# Default lock TTL (seconds)
LOCK_DEFAULT_TTL=300

# Maximum time to wait for lock acquisition (seconds)
LOCK_MAX_WAIT_TIME=60

# ================================
# LOGGING CONFIGURATION
# ================================
# Log level: TRACE, DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Optional: Log to file (leave empty to disable file logging)
LOG_FILE=

# ================================
# METRICS CONFIGURATION
# ================================
# Enable metrics collection
METRICS_ENABLED=true

# Metrics collection interval (seconds)
METRICS_INTERVAL=60

# ================================
# API CONFIGURATION
# ================================
# Default timeout for API calls between nodes (seconds)
API_TIMEOUT=5.0

# Maximum retries for failed API calls
API_MAX_RETRIES=3

# ================================
# DEVELOPMENT/DEBUG
# ================================
# Enable debug mode (more verbose logging)
DEBUG=false

# Enable Swagger UI documentation
ENABLE_SWAGGER=true

# Testing mode (disables some validations)
TESTING=false